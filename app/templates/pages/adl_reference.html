{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section text-center py-5 bg-light">
  <div class="container">
      <h1 class="brand-text display-4 mb-3">ADL Reference Manual</h1>
      <p class="lead mb-0">Complete documentation of the Assistant Description Language</p>
      <div class="mt-4">
        <a href="/adl" class="btn btn-outline-primary">Back to ADL</a>
      </div>
  </div>
</section>

<!-- Main Content with improved margins -->
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <!-- Introduction -->
      <div class="card shadow-sm mb-5">
        <div class="card-body p-5">
          <h2 class="card-title font-audiowide text-primary mb-4">ADL Reference Manual</h2>
          <p class="lead">
            This document describes the components of the <strong>Assistant Description Language (ADL)</strong> and how to use it to define an AI assistant. It includes:
          </p>
          <ul class="list-group list-group-flush mt-4 mx-3">
            <li class="list-group-item bg-transparent py-3"><i class="bi bi-check-circle-fill text-success me-3"></i>The general structure of ADL.</li>
            <li class="list-group-item bg-transparent py-3"><i class="bi bi-check-circle-fill text-success me-3"></i>The <code>metadata</code> and <code>assistant_instructions</code> sections.</li>
            <li class="list-group-item bg-transparent py-3"><i class="bi bi-check-circle-fill text-success me-3"></i>The mandatory nature and purpose of each property.</li>
            <li class="list-group-item bg-transparent py-3"><i class="bi bi-check-circle-fill text-success me-3"></i>Concrete examples in YAML.</li>
          </ul>
        </div>
      </div>

      <!-- General Structure -->
      <div class="card shadow-sm mb-5">
        <div class="card-header bg-primary text-white py-4 px-4">
          <h3 class="mb-0"><i class="bi bi-diagram-3 me-3"></i>General Structure of ADL</h3>
        </div>
        <div class="card-body p-5">
          <p class="mb-4 fs-5">
            The ADL file consists of two main root-level properties:
          </p>
          <div class="list-group mb-5 mx-4">
            <div class="list-group-item list-group-item-action d-flex align-items-center p-4">
              <span class="badge bg-primary rounded-pill me-4 p-2">1</span>
              <code class="fs-5">metadata</code>
              <span class="badge bg-danger ms-3 p-2">required</span>
            </div>
            <div class="list-group-item list-group-item-action d-flex align-items-center p-4">
              <span class="badge bg-primary rounded-pill me-4 p-2">2</span>
              <code class="fs-5">assistant_instructions</code>
              <span class="badge bg-danger ms-3 p-2">required</span>
            </div>
          </div>
          
          <div class="alert alert-info d-flex align-items-center p-4 mx-4" role="alert">
            <i class="bi bi-info-circle-fill me-3 fs-4"></i>
            <div class="fs-5">
              Both properties are mandatory for the ADL to be valid and functional.
            </div>
          </div>
        </div>
      </div>

      <!-- Sección metadata -->
      <div class="card shadow-sm mb-5">
        <div class="card-header bg-success text-white py-4 px-4">
          <h4 class="mb-0"><i class="bi bi-card-heading me-3"></i>Section <code>metadata</code></h4>
        </div>
        <div class="card-body p-5">
          <div class="d-flex flex-wrap mb-4 mx-3">
            <div class="me-5 mb-3">
              <span class="fw-bold fs-5">Type:</span> 
              <span class="badge bg-secondary p-2 ms-2 fs-6"><em>object</em></span>
            </div>
            <div class="me-5 mb-3">
              <span class="fw-bold fs-5">Required:</span> 
              <span class="badge bg-danger p-2 ms-2 fs-6">Yes</span>
            </div>
          </div>
          
          <div class="mb-5 mx-3">
            <span class="fw-bold fs-5">Purpose:</span>
            <p class="mt-3 fs-5">Provides descriptive information and authorship about the assistant, including author's name, organization, license, etc.</p>
          </div>
          
          <div class="alert alert-light border mb-5 mx-3 p-4">
            <p class="fs-5">
              The <code>metadata</code> section contains several properties, of which two are mandatory: <code>author</code> and <code>description</code>. The others are optional but recommended for maintaining history or defining visibility and usage rights.
            </p>
          </div>

          <!-- metadata.author -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>metadata.author</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Indicates the creator of the assistant (and, optionally, contact information and role).</li>
                <li>
                  <strong>Properties:</strong>
                  <ul class="mt-3 mb-4">
                    <li class="mb-2"><code>name</code> (required, type <em>string</em>): author's name.</li>
                    <li class="mb-2"><code>role</code> (optional, type <em>string</em>): role or position.</li>
                    <li class="mb-2"><code>contact</code> (optional, type <em>string</em>): contact information.</li>
                    <li class="mb-2"><code>organization</code> (optional, type <em>string</em>): associated institution or company.</li>
                  </ul>
                </li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Usage example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>author:
  name: "Jane Doe"
  role: "AI Developer"
  contact: "jane.doe@example.com"
  organization: "OpenAI Spain"</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- metadata.description -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>metadata.description</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Provides the general description of the assistant (title, summary, etc.).</li>
                <li>
                  <strong>Properties:</strong>
                  <ul class="mt-3 mb-4">
                    <li class="mb-2"><code>title</code> (required, type <em>string</em>): main title.</li>
                    <li class="mb-2"><code>summary</code> (required, type <em>string</em>): description or short summary.</li>
                    <li class="mb-2"><code>coverage</code> (optional, type <em>string</em>): main purpose of the assistant.</li>
                    <li class="mb-2"><code>educational_level</code> (optional, array of <em>string</em>): suggested educational levels.</li>
                    <li class="mb-2"><code>use_cases</code> (optional, array of <em>string</em>): usage scenarios.</li>
                    <li class="mb-2"><code>keywords</code> (optional, array of <em>string</em>): keywords.</li>
                  </ul>
                </li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Usage example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>description:
  title: "Language Assistant"
  summary: "Helps practice conversation and grammar."
  coverage: "English"
  educational_level:
    - "Secondary Education"
  use_cases:
    - "Listening practice"
    - "Text revision"
  keywords:
    - "languages"
    - "education"</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- metadata.visibility -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>metadata.visibility</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-secondary">No</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Defines whether the assistant is public or private.</li>
                <li>
                  <strong>Property:</strong>
                  <ul class="mt-3 mb-4">
                    <li class="mb-2"><code>is_public</code> (type <em>boolean</em>)</li>
                  </ul>
                </li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Usage example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>visibility:
  is_public: true</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- metadata.rights -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>metadata.rights</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>string</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-secondary">No</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Indicate licenses or usage restrictions.</li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>rights: "CC BY-NC 4.0"</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- metadata.creation_date y metadata.last_update -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>metadata.creation_date</code> and <code>metadata.last_update</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>string</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-secondary">No</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Record the creation date and last modification.</li>
              </ul>
            </div>
          </div>

          <!-- metadata.history -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>metadata.history</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>array</em> of <em>string</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-secondary">No</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Keep a history of changes or versions.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Sección assistant_instructions -->
      <div class="card shadow-sm mb-5">
        <div class="card-header bg-primary text-white py-4 px-4">
          <h4 class="mb-0"><i class="bi bi-gear-fill me-3"></i>Section <code>assistant_instructions</code></h4>
        </div>
        <div class="card-body p-5">
          <div class="d-flex flex-wrap mb-4 mx-3">
            <div class="me-5 mb-3">
              <span class="fw-bold fs-5">Type:</span> 
              <span class="badge bg-secondary p-2 ms-2 fs-6"><em>object</em></span>
            </div>
            <div class="me-5 mb-3">
              <span class="fw-bold fs-5">Required:</span> 
              <span class="badge bg-danger p-2 ms-2 fs-6">Yes</span>
            </div>
          </div>
          
          <div class="mb-5 mx-3">
            <span class="fw-bold fs-5">Purpose:</span>
            <p class="mt-3 fs-5">Defines the behavior logic, style, capabilities, and tools for the assistant.</p>
          </div>
          
          <div class="alert alert-warning mb-5 mx-3 p-4">
            <p class="mb-3 fs-5">
              Includes the following <strong>required</strong> properties:
            </p>
            <div class="d-flex flex-wrap gap-3 fs-5">
              <code class="p-2">context</code>
              <code class="p-2">style_guidelines</code>
              <code class="p-2">final_notes</code>
              <code class="p-2">help_text</code>
              <code class="p-2">role</code>
              <code class="p-2">behavior</code>
              <code class="p-2">capabilities</code>
              <code class="p-2">tools</code>
            </div>
          </div>

          <!-- assistant_instructions.context -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.context</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Describe the context and user data handling.</li>
                <li>
                  <strong>Required properties:</strong>
                  <ul class="mt-3 mb-4">
                    <li class="mb-2"><code>context_definition</code> (array of <em>string</em>)</li>
                    <li class="mb-2"><code>integration_strategy</code> (array of <em>string</em>)</li>
                    <li class="mb-2"><code>user_data_handling</code> (array of <em>string</em>)</li>
                  </ul>
                </li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>context:
  context_definition:
    - "The assistant resolves programming questions."
    - "Intermediate level users."
  integration_strategy:
    - "Integration with online code editor."
    - "Snippets repository API."
  user_data_handling:
    - "No personal data is stored."
    - "Complies with GDPR regulations."</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.style_guidelines -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.style_guidelines</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span> (although its internal properties are optional)</li>
                <li class="mb-3"><strong>Purpose:</strong> Set the tone and format of responses.</li>
                <li>
                  <strong>Optional properties:</strong>
                  <div class="d-flex flex-wrap gap-3 mt-3 mb-4">
                    <code class="p-2">tone</code>
                    <code class="p-2">level_of_detail</code>
                    <code class="p-2">formatting_rules</code>
                  </div>
                </li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>style_guidelines:
  tone: "Formal and didactic"
  level_of_detail: "Detailed with examples"
  formatting_rules:
    - "Use bullets for steps"
    - "Highlight keywords in bold"</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.final_notes -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.final_notes</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>array</em> of <em>string</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Global notes or reminders.</li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>final_notes:
  - "Check spelling before responding."
  - "Do not provide medical or legal advice."</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.help_text -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.help_text</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>string</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Message displayed when the user requests help.</li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>help_text: "Type /help to see available commands."</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.role -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.role</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>string</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Define the personality or role (for example, "Expert Assistant").</li>
              </ul>
            </div>
          </div>

          <!-- assistant_instructions.behavior -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.behavior</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Describes the assistant's reactions in different situations.</li>
                <li>
                  <strong>Required properties:</strong>
                  <ul class="mt-3 mb-4">
                    <li class="mb-2"><code>invalid_command_response</code> (string)</li>
                    <li class="mb-2"><code>on_greeting</code> (array of string)</li>
                    <li class="mb-2"><code>on_help_command</code> (array of string)</li>
                    <li class="mb-2"><code>unrelated_topic_response</code> (string)</li>
                    <li class="mb-2"><code>prompt_visibility</code> (string)</li>
                  </ul>
                </li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>behavior:
  invalid_command_response: "Sorry, I don't recognize that command."
  on_greeting:
    - "Hi! How can I help you?"
    - "Happy to help you today."
  on_help_command:
    - "List of commands: /explain, /example, /test."
  unrelated_topic_response: "I don't have information about that topic."
  prompt_visibility: "hidden"</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.capabilities -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.capabilities</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>array</em> of <em>string</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> List of main capabilities of the assistant.</li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>capabilities:
  - "Provide code examples"
  - "Explain algorithms"</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.tools -->
          <div class="card mb-5 mx-4">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.tools</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Defines the commands, options, and decorators that the assistant can use.</li>
                <li class="mb-3">
                  <strong>Required properties:</strong> <code>commands</code>, <code>options</code>
                </li>
                <li class="mb-3">
                  <strong>Optional property:</strong> <code>decorators</code>
                </li>
              </ul>
            </div>
          </div>

          <!-- assistant_instructions.tools.commands -->
          <div class="card mb-5 mx-5">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.tools.commands</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Each command is an object with <code>display_name</code>, <code>description</code>, and <code>internal_description</code>.</li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>commands:
  explain:
    display_name: "/explain"
    description: "Provides a detailed explanation."
    internal_description: "Level adapted to the user."
  example:
    display_name: "/example"
    description: "Shows a code example."
    internal_description: "Includes comments."</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.tools.options -->
          <div class="card mb-5 mx-5">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.tools.options</code></h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-danger">Yes</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Parameters that complement the commands.</li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>options:
  language:
    display_name: "--language"
    description: "Define the programming language (Python, JavaScript, etc.)"
    internal_description: "Default: Python."
  difficulty:
    display_name: "--difficulty"
    description: "Level: basic, intermediate, or advanced."
    internal_description: "Default: intermediate."</code></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- assistant_instructions.tools.decorators -->
          <div class="card mb-5 mx-5">
            <div class="card-header bg-light p-3">
              <h5 class="mb-0"><code>assistant_instructions.tools.decorators</code> (optional)</h5>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled fs-5">
                <li class="mb-3"><strong>Type:</strong> <em>object</em></li>
                <li class="mb-3"><strong>Required:</strong> <span class="badge bg-secondary">No</span></li>
                <li class="mb-3"><strong>Purpose:</strong> Add "tags" or additional modifications to the output.</li>
              </ul>

              <div class="mt-4 mx-3">
                <p class="fs-5">Example:</p>
                <div class="bg-dark p-4 rounded">
                  <pre class="text-light mb-0"><code>decorators:
  highlight:
    display_name: "@highlight"
    description: "Highlights important text."
    internal_description: "Used to draw attention."</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Conclusión -->
      <div class="card shadow-sm mb-5">
        <div class="card-body p-5 text-center">
          <h4 class="mb-4 font-audiowide text-primary">Complete ADL Documentation</h4>
          <p class="fs-5 mb-4">This reference manual contains all the properties and structures needed to create effective assistants with the Assistant Description Language.</p>
          <div class="d-flex justify-content-center gap-3">
            <a href="/adl" class="btn btn-primary px-4 py-2">
              <i class="bi bi-arrow-left me-2"></i> Back to ADL
            </a>
            <!-- Button temporarily disabled until examples are ready
            <a href="/adl/examples" class="btn btn-success px-4 py-2">
              <i class="bi bi-code-slash me-2"></i> View Examples
            </a>
            -->
          </div>
        </div>
      </div>
      
      <!-- Índice rápido flotante -->
      <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
        <button class="btn btn-primary rounded-circle shadow" type="button" data-bs-toggle="offcanvas" data-bs-target="#indexOffcanvas" aria-controls="indexOffcanvas">
          <i class="bi bi-list fs-4"></i>
        </button>
      </div>
      
      <!-- Offcanvas para el índice -->
      <div class="offcanvas offcanvas-end" tabindex="-1" id="indexOffcanvas" aria-labelledby="indexOffcanvasLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="indexOffcanvasLabel">Table of Contents</h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action">General Structure</a>
            <a href="#" class="list-group-item list-group-item-action">Section metadata</a>
            <div class="ms-3 mt-2 mb-2">
              <a href="#" class="list-group-item list-group-item-action">metadata.author</a>
              <a href="#" class="list-group-item list-group-item-action">metadata.description</a>
              <a href="#" class="list-group-item list-group-item-action">metadata.visibility</a>
              <a href="#" class="list-group-item list-group-item-action">metadata.rights</a>
              <a href="#" class="list-group-item list-group-item-action">metadata.creation_date</a>
              <a href="#" class="list-group-item list-group-item-action">metadata.history</a>
            </div>
            <a href="#" class="list-group-item list-group-item-action">Section assistant_instructions</a>
            <div class="ms-3 mt-2">
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.context</a>
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.style_guidelines</a>
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.final_notes</a>
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.help_text</a>
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.role</a>
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.behavior</a>
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.capabilities</a>
              <a href="#" class="list-group-item list-group-item-action">assistant_instructions.tools</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Botón para volver arriba -->
<button id="backToTop" class="btn btn-primary rounded-circle position-fixed bottom-0 start-0 m-3" style="z-index: 5; display: none;">
  <i class="bi bi-arrow-up"></i>
</button>

<script>
  // Script para mostrar/ocultar el botón de volver arriba
  window.onscroll = function() {
    if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
      document.getElementById("backToTop").style.display = "block";
    } else {
      document.getElementById("backToTop").style.display = "none";
    }
  };
  
  // Función para volver arriba al hacer clic en el botón
  document.getElementById("backToTop").addEventListener("click", function() {
    document.body.scrollTop = 0; // Para Safari
    document.documentElement.scrollTop = 0; // Para Chrome, Firefox, IE y Opera
  });
</script>
{% endblock %}
